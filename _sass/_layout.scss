/*
 * Themes
 */

body, .light {
    @include theme(
        $text-color: #171717,
        $background-color: white,
        $brand-color: royalblue,
    );
}

.dark {
    @include theme(
        $text-color: white,
        $background-color: #171717,
    );
}

/*
 * Basic
 */

%hidden { // used when you want display classes to override
    display: none;
}

.block {
    @include display(block);
}

.inline {
    @include display(inline);
}

.inline-block {
    @include display(inline-block);
}

.hidden {
    display: none;
}

.relative {
    position: relative;
}

.absolute {
    position: absolute;
}

.fixed {
    position: fixed;
}

.float-left {
    float: left;
}

.float-right {
    float: right;
}

.v-rhythm > * {
    @extend %vertical-rhythm;

    &:last-child {
        margin-bottom: 0;
    }
}

.transparent {
    opacity: 0;
}

.content-box {
    box-sizing: content-box;
}

.clearfix:after {
    content: "";
    display: table;
    clear: both;
    border-spacing: 0;
}

/*
 * Sizes
 */

@each $name, $size in $sizes {
    $width: null;
    $height: null;

    @if length($size) == 1 {
        $width: $size;
        $height: $size;
    } @else if length($size) == 2 {
        $width: nth($size, 1);
        $height: nth($size, 2);
    } @else {
        @error "Wrong number of values in #{$name} size.";
    }

    .#{$name} {
        &-size, &-width {
            width: $width;
        }
        &-size, &-height {
            height: $height;
        }
        &-size-min, &-width-min {
            min-width: $width;
        }
        &-size-min, &-height-min {
            min-height: $height;
        }
        &-size-max, &-width-max {
            max-width: $width;
        }
        &-size-max, &-height-max {
            max-height: $height;
        }
    }
}

.max-width-none {
    max-width: none;
}

.max-height-none {
    max-height: none;
}

/*
 * Margins
 */

@each $name, $size in $margins {
    .margin-#{$name} {
        @include all-sides {
            margin-#{$side}: $size;
        }
    }
}

/*
 * Paddings
 */

@each $name, $size in $paddings {
    .padding-#{$name} {
        @include all-sides {
            padding-#{$side}: $size;
        }
    }
}

/*
 * Positioning
 */

@each $name, $value in $positions {
    .pos-#{$name} {
        @include all-sides {
            #{$side}: $value;
        }
    }
}

.top {
    top: 0;
}

.left {
    left: 0;
}

.right {
    right: 0;
}

.bottom {
    bottom: 0;
}

.top-left {
    @extend .absolute, .top, .left;
}

.top-right {
    @extend .absolute, .top, .right;
}

.bottom-left {
    @extend .absolute, .bottom, .left;
}

.bottom-right {
    @extend .absolute, .bottom, .right;
}

.abs-center {
    @extend .absolute;
    top: 50%; left: 50%;
    @include transform(translate(-50%, -50%));
}

.abs-center-h {
    @extend .absolute;
    left: 50%;
    @include transform(translateX(-50%));
}

.abs-center-v {
    @extend .absolute;
    top: 50%;
    @include transform(translateY(-50%));
}

@for $i from -9 through 9 {
    $class-name: z-#{$i};
    @if ($i < 0) {
        $class-name: z-neg-#{($i * -1)};
    }
    .#{$class-name} {
        @extend .relative;
        z-index: $i;
    }
}

/*
 * Containers
 */

.overflow-v {
    overflow: visible;
}

.overflow-h {
    overflow: hidden;
}

.fill-window {
    @extend .fixed, .pos-0;
}

.fill-parent {
    @extend .absolute, .pos-0;
}

.expand-children {
    @extend .relative;

    & > * {
        @extend .fill-parent;
    }
}

.center-child {
    @extend .relative;

    & > *:only-child {
        @extend .abs-center;
    }
}

.aspect-16-9 {
    @include fixed-ratio(16, 9);
}

.contains-3d {
    -webkit-perspective: $perspective;
    perspective: $perspective;

    &-deep * {
        @extend .contains-3d;
        -webkit-transform-style: preserve-3d;
        transform-style: preserve-3d;
    }
}

.render-3d {
    -webkit-transform-style: preserve-3d;
    transform-style: preserve-3d;
}

/*
 * Wrappers
 */

.content-wrapper {
    @include wrapper(map-values($bp));
}

.text-wrapper {
    max-width: $base-line-length;
}

.unwrap {
    width: 100vw;
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);
}

.stretch {
    @extend .unwrap;
    padding-left: calc(50vw - 50%);
    padding-right: calc(50vw - 50%);
}

/*
 * Borders
 */

@each $name, $styles in $borders {
    .border-#{$name} {
        @include all-sides {
            border-#{$side}-width: map-get($styles, width);
            border-#{$side}-style: map-get($styles, style);
            border-#{$side}-color: map-get($styles, color);
        }
    }
}

.border-between {
    @extend .border-basic-b;

    &:last-of-type {
        border-bottom: 0;
    }
}

.border-around {
    @extend .border-basic-b;

    &:first-of-type {
        @extend .border-basic-t;
    }
}

/*
 * Tables
 */

.table {
    @include display(table);
}

.table-fixed {
    @extend .table;
    table-layout: fixed;
}

.column {
    @include display(column);
}

.row {
    @include display(table-row);
}

.cell {
    @include display(table-cell);
}

.v-middle {
    vertical-align: middle;
}

%columns {
    @extend .table;
    width: calc(100% + (#{$spacing-unit} * 2));
    margin: -$spacing-unit;
    border-spacing: $spacing-unit;
    table-layout: fixed;

    &:last-child > :last-child {
        margin-bottom: 0;
    }
}

@each $name, $breakpoint in $bp {
    .#{$name}-columns {
        @extend %columns;
        @include columns-reset($breakpoint);
    }
}

/*
 * Inline Layouts
 */

.font-0 {
    font-size: 0;

    > * {
        font-size: $base-font-size;
    }
}

.inline-row {
    white-space: nowrap;

    > * {
        @extend .inline-block;
        white-space: normal;
    }
}

/*
 * Flexbox
 */

%flex {
    @include display(flex);
}

.inline-flex {
    @include display(inline-flex);
}

.flex-row {
    @extend %flex;
    flex-direction: row;
}

.flex-col {
    @extend %flex;
    flex-direction: column;
}

.flex-justify-center {
    justify-content: center;
}

.flex-align-center {
    align-items: center;
}

.flex-center {
    @extend .flex-justify-center, .flex-align-center;
}

.flex-align-bottom {
    align-items: flex-end;
}

.fill-flex-parent {
    flex: 1 1 auto;
}

.flex-even > * {
    flex: 1 1 0%;
}

.flex-space-between {
    justify-content: space-between;
}

.flex-space-around {
    justify-content: space-around;
}

/*
 * Media Queries
 */

